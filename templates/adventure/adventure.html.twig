{% extends "base.html.twig" %}

{% block main %}


<div class="hero-container valign-wrapper">
    {% include "adventure/_hero.html.twig" %}
</div>
 <div class="container">
     <div class="row">
         <div class="col s12 white text-center story-elements-container">
             <h2 class="center-align">{{ story.title }}</h2>
             <div class="row" >
                 <div class="col-s12">
                     <h4 class="center-align">{{ chapter.title }}</h4>
                     <div class="row">
                         <div class="col m10 offset-m1 s12">
                             <div class="text-content center-align">
                                 {{ chapter.textContent1 }}
                             </div>
                         </div>
                     </div>

                     {% if chapter.weapons %}
                     <div class="row weapons-chapter-container">
                         {% for weapon in chapter.weapons %}
                             <div class="col s12 center-align">
                                 <a class="btn waves-light waves-effect cyan accent-4" role="button" href="{{ path('pickupWeapon', {"slug": story.slug, "idHero": hero.id, "idChapter": chapter.id, "idWeapon": weapon.id}) }}">
                                     {{ weapon.name }}
                                 </a>
                             </div>
                         {% endfor %}
                     </div>
                     {% endif %}

                     {% if chapter.specialItems %}
                     <div class="row special-items-chapter-container">
                         {% for item in chapter.specialItems %}
                             <div class="col s12 center-align">
                                 <a class="btn waves-effect waves-light purple accent-4" role="button" href="{{ path('pickupSpecialItem', {"slug": story.slug, "idHero": hero.id, "idChapter": chapter.id, "idItem": item.id}) }}">
                                     {{ item.name }}
                                 </a>
                             </div>
                         {% endfor %}
                     </div>
                     {% endif %}

                     {% if chapter.consumableItems %}
                     <div class="row consumable-items-chapter-container">
                         {% for item in chapter.consumableItems %}
                             <div class="col s12 center-align">
                                 <a class="btn waves-effect waves-light green accent-4" role="button" href="{{ path('pickupConsumableItem', {"slug": story.slug, "idHero": hero.id, "idChapter": chapter.id, "idItem": item.id}) }}">
                                     {{ item.name }}
                                 </a>
                             </div>
                         {% endfor %}
                     </div>
                     {% endif %}

                     {% if chapter.gold > 0 %}
                     <div class="row gold-chapter-container center-align">
                         <a href="{{ path('pickupGold', {"slug": story.slug, "idHero": hero.id, "idChapter": chapter.id}) }}" role="button" class="waves-effect waves-light btn yellow accent-4">{{ chapter.gold }} golds</a>
                     </div>
                     {% endif %}

                     <div class="row">
                     <div class="col m10 offset-m1 s12">
                         {{ chapter.textContent2 }}
                     </div>
                     </div>
                     {% if isDeath %}
                     <div class="row">
                         <div class="col s12 center-align">
                             <a role="button" class="btn btn-large red waves-light waves-effect" href="{{ path('adventure_death', {"slug": story.slug, "idHero": hero.id}) }}">
                                 You die
                             </a>
                         </div>
                     </div>
                     {% elseif isEnd %}
                         <div class="row">
                             <div class="col s12 center-align">
                                 <a role="button" class="btn btn-large green waves-light waves-effect" href="{{ path('adventure_end', {"slug": story.slug, "idHero": hero.id}) }}">
                                     You finished this adventure!
                                 </a>
                             </div>
                         </div>
                     {% else %}
                     {% for choice in choices %}
                     <div class="row choices-chapter-container">
                         <div class="col s12 center-align">
                             {% if choice.goldRequired > 0 or choice.itemRequired %}
                                 <a class="btn waves-effect waves-light" role="button" href="{{ path('tradeGoldOrItem', {"slug": story.slug, "idHero": hero.id, "idChoice": choice.id}) }}">
                                     {{ choice.description }}
                                 </a>
                             {% else %}
                                 <a class="btn btn-large waves-effect waves-light" role="button" href="{{ path('adventure', {"slug": story.slug, "idHero": hero.id, "id": choice.targetChapter.id}) }}">
                                     {{ choice.description }}
                                 </a>
                             {% endif %}
                         </div>
                     </div>
                     {% endfor %}
                     {% endif %}
                 </div>
             </div>
         </div>
     </div>
 </div>
{% endblock %}

